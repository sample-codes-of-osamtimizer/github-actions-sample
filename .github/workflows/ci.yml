name: 'sample ci'

on:
  - push
env:
  SAMPLE_JSON: ${{ secrets.SAMPLE_JSON }}

jobs:
  build:
    name: Greeting
    runs-on: ubuntu-latest
    steps:
      - name: hoge
        run: echo "Hello, World!"
      - name: show branch name
        run: echo ${GITHUB_REF##*/}
      - name: show env
        run: echo ${BRANCH_NAME}
      - name: show json
        run: echo ${SAMPLE_JSON}
  specified_job:
    name: specified
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/release/staging' || github.ref == 'refs/heads/release/production'
    steps:
      - name: echo something if branch name is release
        run: echo ${GITHUB_REF#refs/heads/}
